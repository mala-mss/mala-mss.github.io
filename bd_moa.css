
/* -------------------------------------
   Birthday Card â€“ Elegant (Compat CSS)
   - No color-mix / oklab; widely supported properties only
-------------------------------------- */

:root{
  --bg-1: #0b0f14;
  --bg-2: #171b22;
  --accent: #8ec5ff;   /* cornflower */
  --accent2:#ffd6a5;   /* apricot */
  --text: #eef3f8;
  --muted:#a7b3c2;
  --card: #0f141a;
}

*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  color: var(--text);
  background:
    radial-gradient(1200px 700px at 10% -10%, rgba(255,255,255,.06), rgba(255,255,255,0) 60%),
    radial-gradient(1000px 600px at 90% 10%, rgba(255,255,255,.05), rgba(255,255,255,0) 55%),
    linear-gradient(180deg, var(--bg-1), var(--bg-2));
  overflow-x: hidden;
}

/* Stage transitions */
.stage{
  position: absolute; inset: 0;
  display: grid; place-items: center;
  opacity: 0; transform: translateX(6%);
  transition: opacity .7s ease, transform .7s ease;
  padding: clamp(16px, 4vw, 48px);
}
.stage.active{ opacity:1; transform:none; }
.stage.prev{ opacity:0; transform:translateX(-6%); }

/* Card */
.card{
  width: min(920px, 94vw);
  background: rgba(15,20,26,0.88);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 24px;
  padding: clamp(20px, 4vw, 40px);
  box-shadow: 0 20px 60px rgba(0,0,0,.35);
  -webkit-backdrop-filter: blur(8px) saturate(1.05);
  backdrop-filter: blur(8px) saturate(1.05);
}

/* Headings */
.display{
  font-family: Georgia, "Times New Roman", Times, serif;
  font-weight: 700;
  letter-spacing: .4px;
  line-height: 1.1;
  font-size: clamp(36px, 6vw, 64px);
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-align: center;
  margin: 0 0 .6rem 0;
}
.subtitle{
  text-align: center;
  color: var(--muted);
  font-size: clamp(14px, 2.2vw, 18px);
  margin: 0 0 1.5rem 0;
}

/* Buttons */
.btn{
  border: 1px solid transparent;
  cursor: pointer;
  padding: .9rem 1.3rem;
  border-radius: 999px;
  font-weight: 600;
  letter-spacing: .3px;
  transition: transform .15s ease, box-shadow .2s ease, background .2s;
  background: linear-gradient(180deg, #bfe0ff, #8ec5ff);
  color: #061018;
  box-shadow: 0 8px 25px rgba(142,197,255,.35);
}
.btn:hover{ transform: translateY(-1px); }
.btn.secondary{
  background: transparent;
  color: var(--text);
  border-color: rgba(255,255,255,0.18);
  box-shadow: none;
}

.cta-row{ display:flex; gap:12px; justify-content:center; margin-top:1rem }

/* Sparkles */
.sparkles{ position:absolute; inset:0; overflow:hidden; pointer-events:none; }
.sparkle{
  position:absolute; width:6px; height:6px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #ffffff, rgba(255,255,255,.3) 40%, rgba(255,255,255,0) 60%);
  animation: floatUp 8s linear infinite;
  opacity:.8;
}
@keyframes floatUp{ from{ transform: translateY(20vh) } to{ transform: translateY(-120vh) } }

/* Memory grid */
.memory-grid{display:flex;flex-wrap:wrap;gap:18px;align-items:flex-start;}
.photo{
  position:relative; border-radius:18px; overflow:hidden;
  aspect-ratio: 3/5;
  border:1px solid rgba(255,255,255,0.12);
  box-shadow: 0 12px 30px rgba(0,0,0,.35);
}
.photo img{ width:100%; height:100%; object-fit:cover; display:block; filter:contrast(1.02) saturate(1.02); }
.caption{
  position:absolute; left:0; right:0; bottom:0;
  padding:14px 16px;
  background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,.65));
  color:#f0f3f7; font-size:.95rem;
  transform: translateY(35%); opacity:0; transition:.35s ease;
}
.photo:hover .caption{ transform: translateY(0); opacity:1; }

/* Cake */
.cake-wrap{ display:grid; place-items:center; gap:16px }
.cake{
  width:min(460px, 90vw); height:220px; border-radius:16px;
  background: linear-gradient(180deg, #8b5d36 0%, #6e3f21 100%);
  position:relative; box-shadow: 0 20px 60px rgba(0,0,0,.45);
}
.cake::before, .cake::after{
  content:""; position:absolute; left:50%; transform:translateX(-50%);
  width:calc(100% + 24px); height:24px; border-radius:18px;
  background: linear-gradient(90deg, #fff0f6, #ffe6d6, #fff0f6);
  top:-12px; box-shadow: inset 0 -2px 6px rgba(0,0,0,.15);
}
.cake::after{ top:auto; bottom:-14px; }
.candles{ position:absolute; top:-40px; left:0; right:0; display:flex; justify-content:center; gap:28px }
.candle{ position:relative; width:10px; height:44px; border-radius:6px;
  background: repeating-linear-gradient(180deg, #ffd86b 0 6px, #ffe9a6 6px 12px);
  border:1px solid rgba(255,255,255,.35); cursor:pointer; transition: transform .2s ease;
}
.candle:hover{ transform: translateY(-2px) }
.flame{
  position:absolute; top:-16px; left:50%; transform:translateX(-50%);
  width:14px; height:18px; border-radius:50% 50% 50% 50%/60% 60% 40% 40%;
  background: radial-gradient(circle at 40% 30%, #fff8a8, #ffb800 50%, #ff6b00 65%, rgba(255,255,255,0) 70%);
  filter: drop-shadow(0 0 10px #ffa400) drop-shadow(0 0 18px rgba(255,174,0,.55));
  animation: flicker .6s ease-in-out infinite alternate;
}
@keyframes flicker{ from{ transform:translateX(-50%) scale(.98) rotate(-3deg) } to{ transform:translateX(-50%) scale(1.06) rotate(3deg) } }
.candle.blown .flame{ display:none }
.instruction{ color:var(--muted); text-align:center; margin-top:8px }

/* Letter */
.letter{
  font-family: Georgia, "Times New Roman", Times, serif;
  font-size: clamp(18px, 2.2vw, 22px);
  line-height: 1.6;
  color: #f3f6fb;
}
.type{ border-right: 2px solid rgba(255,255,255,.7); white-space: pre-wrap; }

/* Wish wall */
.wish-wall{
  display:grid; gap:12px; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}
.note{
  background: rgba(15,20,26,0.82);
  border:1px solid rgba(255,255,255,0.12);
  border-radius:14px; padding:14px;
  min-height:110px; position:relative;
}
.note h4{ margin:0 0 6px 0; font-size:1rem; color: var(--accent2); }
.note p{ margin:0; color: var(--muted); }

.wish-controls{ display:flex; gap:10px; margin-top:14px }
.input{
  flex:1; padding:.8rem 1rem; border-radius:999px;
  border:1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,.04); color:var(--text); outline:none;
}

/* Final confetti */
.final .display{ font-size: clamp(40px, 7vw, 72px); }
.confetti{
  position: fixed; top:-10vh; width:10px; height:10px; border-radius:2px; opacity:.95;
  animation: fall var(--dur, 4s) linear infinite; mix-blend-mode: screen;
}
@keyframes fall{
  to{ transform: translateY(120vh) rotate(720deg); }
}

/* Responsiveness */
@media (max-width: 640px){
  .card{ padding: 20px; }
  .candles{ gap: 18px; }
}



/* Secret Button */
        .secret-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #06044e98;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .secret-button:hover {
            background: #06044e0a;
            transform: scale(1.1);
        }

        .secret-content {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            z-index: 1001;
            max-width: 400px;
        }

        .secret-button{
  position: fixed;
  right: 20px;
  bottom: 20px;
  z-index: 1100;
  background: linear-gradient(180deg, #bfe0ff, #8ec5ff);
  color: #061018;
  border: 1px solid rgba(255,255,255,0.18);
  border-radius: 999px;
  padding: 10px 16px;
  font-weight: 700;
  letter-spacing: .25px;
  box-shadow: 0 8px 25px rgba(142,197,255,.35);
  cursor: pointer;
  transition: transform .15s ease, box-shadow .2s ease, opacity .2s ease;
}
.secret-button:hover{ transform: translateY(-1px); box-shadow: 0 10px 30px rgba(142,197,255,.45); }
@media (max-width: 480px){ .secret-button{ right:12px; bottom:12px; padding:9px 14px; } }

/* Backdrop */
.secret-backdrop{
  background: rgba(0,0,0,.55);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
}

/* Modal card to match site's glass cards */
#secret-content{
  display:none;
  max-width: min(520px, 92vw);
  background: rgba(15,20,26,0.92);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 24px;
  padding: 22px;
  box-shadow: 0 20px 60px rgba(0,0,0,.45);
  -webkit-backdrop-filter: blur(8px) saturate(1.05);
  backdrop-filter: blur(8px) saturate(1.05);
  animation: secret-pop .28s ease-out;
}
@keyframes secret-pop{
  from{ transform: translate(-50%, -52%) scale(.98); opacity: 0; }
  to{ transform: translate(-50%, -50%) scale(1); opacity: 1; }
}

/* Typography + accents inside modal */
#secret-content h3{
  margin: 0 0 10px 0;
  font-family: Georgia, "Times New Roman", Times, serif;
  font-weight: 700;
  letter-spacing: .4px;
  line-height: 1.1;
  font-size: clamp(22px, 4.5vw, 28px);
  background: linear-gradient(90deg, #8ec5ff, #ffd6a5);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-align: center;
}
#secret-content p{
  color: #a7b3c2;
  margin: 6px 0;
  text-align: center;
}
#secret-content a{ color: #8ec5ff; text-decoration: none; }
#secret-content a:hover{ text-decoration: underline; }

/* Close button to match theme */
#secret-close{
  display: inline-block;
  background: transparent;
  color: #eef3f8;
  border: 1px solid rgba(255,255,255,0.18);
  border-radius: 999px;
  padding: 10px 16px;
  font-weight: 600;
  cursor: pointer;
  transition: transform .15s ease, background .2s ease, box-shadow .2s ease;
}
#secret-close:hover{
  background: rgba(255,255,255,0.06);
  transform: translateY(-1px);
  box-shadow: 0 8px 24px rgba(0,0,0,.25);
}

.photo{position:relative;border-radius:18px;overflow:hidden;flex:1 1 220px;min-width:200px;max-width:380px;aspect-ratio:3/4;border:1px solid rgba(255,255,255,0.12);box-shadow:0 12px 30px rgba(0,0,0,.35);}
.photo img{width:100%;height:100%;object-fit:cover;display:block;filter:contrast(1.02) saturate(1.02);}
.caption{position:absolute;left:0;right:0;bottom:0;padding:14px 16px;background:linear-gradient(180deg,rgba(0,0,0,0),rgba(0,0,0,.65));color:#f0f3f7;font-size:.95rem;transform:translateY(35%);opacity:0;transition:.35s ease;}
.photo:hover .caption{transform:translateY(0);opacity:1;}
.uploader{display:flex;gap:10px;align-items:center;}
.uploader .input{flex:1;}
.cert-controls{display:flex;gap:10px;align-items:center;margin-bottom:12px;}
.cert-canvas-wrap{display:grid;place-items:center;border-radius:18px;overflow:hidden;border:1px solid rgba(255,255,255,0.12);background:rgba(255,255,255,0.03);}
#cert-canvas{width:min(100%,960px);height:auto;display:block;}
